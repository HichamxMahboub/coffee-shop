import i18n from "i18next";
import { initReactI18next } from "react-i18next";

const resources = {
  fr: {
    translation: {
      common: {
        dashboard: "Dashboard",
        refresh: "Rafraîchir",
        filter: "Filtrer",
        exportCsv: "Exporter CSV",
        generatePdf: "Générer Rapport PDF",
        printPdf: "Imprimer PDF",
        total: "Total",
        subtotal: "Sous-total",
        tax: "TVA",
        date: "Date",
        quantity: "Quantité",
        unit: "Unité",
        payment: "Paiements",
        cash: "Cash",
        card: "Carte",
        mixed: "Mixte",
        none: "Aucun",
        save: "Enregistrer",
        saveInProgress: "Enregistrement...",
        close: "Fermer",
      },
      nav: {
        dashboard: "Dashboard",
        pos: "POS",
        inventory: "Inventaire",
        analytics: "Analytics",
        sales: "Ventes",
        barista: "Barista",
        zreport: "Z-Report",
        settings: "Paramètres",
      },
      auth: {
        cafeName: "Café Premium",
        cafeTagline: "Gestion complète du coffee shop",
        title: "Connectez-vous pour piloter vos ventes",
        subtitle: "Accédez au tableau de bord, au POS et à l'inventaire en toute sécurité.",
        secureTitle: "Connexion sécurisée",
        email: "Email",
        password: "Mot de passe",
        login: "Se connecter",
        loggingIn: "Connexion...",
      },
      layout: {
        connected: "Connecté",
        logout: "Se déconnecter",
        lightMode: "Mode clair",
        darkMode: "Mode sombre",
        management: "Coffee Shop Management",
      },
      dashboard: {
        title: "Tableau de bord",
        subtitle: "Résumé du jour",
        todaySales: "Ventes du jour",
        orders: "Commandes",
        lowStock: "Alertes stock bas",
        noAlerts: "Aucune alerte",
        revenueByDay: "CA par jour",
        topProducts: "Top 5 ventes",
      },
      inventory: {
        title: "Inventaire",
        subtitle: "Gestion des ingrédients",
        formAdd: "Ajouter",
        formEdit: "Modifier",
        namePlaceholder: "Nom de l'ingrédient",
        quantityPlaceholder: "Quantité",
        unitPlaceholder: "Unité",
        alertThreshold: "Seuil d'alerte",
        create: "Créer",
        update: "Mettre à jour",
        listTitle: "Ingrédients",
        stockLow: "Stock bas",
        ok: "OK",
      },
      pos: {
        title: "Menu tactile",
        subtitle: "Point de vente",
        categoryAll: "Tous",
        categoryFallback: "Catégorie",
        cartTitle: "Panier",
        cartSubtitle: "Commande en cours",
        clear: "Vider",
        empty: "Aucun article sélectionné",
        checkout: "Encaisser",
        processing: "Traitement...",
        orderSuccess: "Commande validée et stock mis à jour",
        orderError: "Erreur de validation",
        chooseVariant: "Choisir une taille",
        variantNormal: "Normal",
        variantLarge: "Grand",
        addToCart: "Ajouter au panier",
        notesLabel: "Note",
        notesPlaceholder: "Ex: Sans sucre",
      },
      sales: {
        title: "Ventes",
        subtitle: "Historique des transactions",
        orderLabel: "Commande",
      },
      analytics: {
        title: "Analytics",
        subtitle: "Analyse des ventes",
        dailyRevenue: "CA journalier",
        topSelling: "Produits les plus vendus",
        rushHours: "CA par heure (Rush hours)",
        revenueByPayment: "Revenu par méthode de paiement",
      },
      barista: {
        title: "Barista",
        subtitle: "Commandes à préparer",
        empty: "Aucune commande en attente",
        markServed: "Marquer comme servi",
        orderLabel: "Commande",
        noteLabel: "Note",
        servedToast: "Commande servie",
      },
      zreport: {
        title: "Z-Report",
        subtitle: "Clôture de caisse",
        totalSales: "Total CA",
        coffeesSold: "Cafés vendus",
        summary: "Résumé financier",
        salesByItem: "Ventes par article",
        ingredientsUsed: "Ingrédients déstockés",
        product: "Produit",
        totalHt: "Total HT",
        totalTtc: "Total TTC",
        ingredient: "Ingrédient",
        quantityUsed: "Quantité utilisée",
      },
      settings: {
        title: "Configuration du café",
        cafeName: "Nom du café",
        cafeAddress: "Adresse du café",
        taxRate: "TVA (ex: 0.20)",
        currencySymbol: "Symbole de devise",
        currencyPosition: "Position (préfixe/suffixe)",
        save: "Enregistrer",
        saved: "Paramètres enregistrés",
        updateFailed: "Échec de la mise à jour",
      },
    },
  },
  en: {
    translation: {
      common: {
        dashboard: "Dashboard",
        refresh: "Refresh",
        filter: "Filter",
        exportCsv: "Export CSV",
        generatePdf: "Generate PDF Report",
        printPdf: "Print PDF",
        total: "Total",
        subtotal: "Subtotal",
        tax: "VAT",
        date: "Date",
        quantity: "Quantity",
        unit: "Unit",
        payment: "Payments",
        cash: "Cash",
        card: "Card",
        mixed: "Mixed",
        none: "None",
        save: "Save",
        saveInProgress: "Saving...",
        close: "Close",
      },
      nav: {
        dashboard: "Dashboard",
        pos: "POS",
        inventory: "Inventory",
        analytics: "Analytics",
        sales: "Sales",
        barista: "Barista",
        zreport: "Z-Report",
        settings: "Settings",
      },
      auth: {
        cafeName: "Cafe Premium",
        cafeTagline: "Complete coffee shop management",
        title: "Sign in to manage your sales",
        subtitle: "Access the dashboard, POS, and inventory securely.",
        secureTitle: "Secure login",
        email: "Email",
        password: "Password",
        login: "Sign in",
        loggingIn: "Signing in...",
      },
      layout: {
        connected: "Connected",
        logout: "Sign out",
        lightMode: "Light mode",
        darkMode: "Dark mode",
        management: "Coffee Shop Management",
      },
      dashboard: {
        title: "Dashboard",
        subtitle: "Today overview",
        todaySales: "Today sales",
        orders: "Orders",
        lowStock: "Low stock alerts",
        noAlerts: "No alerts",
        revenueByDay: "Revenue by day",
        topProducts: "Top 5 sales",
      },
      inventory: {
        title: "Inventory",
        subtitle: "Ingredient management",
        formAdd: "Add",
        formEdit: "Edit",
        namePlaceholder: "Ingredient name",
        quantityPlaceholder: "Quantity",
        unitPlaceholder: "Unit",
        alertThreshold: "Alert threshold",
        create: "Create",
        update: "Update",
        listTitle: "Ingredients",
        stockLow: "Low stock",
        ok: "OK",
      },
      pos: {
        title: "Touch menu",
        subtitle: "Point of sale",
        categoryAll: "All",
        categoryFallback: "Category",
        cartTitle: "Cart",
        cartSubtitle: "Current order",
        clear: "Clear",
        empty: "No items selected",
        checkout: "Charge",
        processing: "Processing...",
        orderSuccess: "Order confirmed and stock updated",
        orderError: "Validation error",
        chooseVariant: "Choose a size",
        variantNormal: "Normal",
        variantLarge: "Large",
        addToCart: "Add to cart",
        notesLabel: "Note",
        notesPlaceholder: "e.g. No sugar",
      },
      sales: {
        title: "Sales",
        subtitle: "Transaction history",
        orderLabel: "Order",
      },
      analytics: {
        title: "Analytics",
        subtitle: "Sales analysis",
        dailyRevenue: "Daily revenue",
        topSelling: "Top products",
        rushHours: "Revenue by hour (Rush hours)",
        revenueByPayment: "Revenue by payment method",
      },
      barista: {
        title: "Barista",
        subtitle: "Orders to prepare",
        empty: "No pending orders",
        markServed: "Mark as served",
        orderLabel: "Order",
        noteLabel: "Note",
        servedToast: "Order served",
      },
      zreport: {
        title: "Z-Report",
        subtitle: "Cash closure",
        totalSales: "Total sales",
        coffeesSold: "Coffees sold",
        summary: "Financial summary",
        salesByItem: "Sales by item",
        ingredientsUsed: "Ingredients used",
        product: "Product",
        totalHt: "Total HT",
        totalTtc: "Total TTC",
        ingredient: "Ingredient",
        quantityUsed: "Quantity used",
      },
      settings: {
        title: "Cafe configuration",
        cafeName: "Cafe name",
        cafeAddress: "Cafe address",
        taxRate: "VAT (ex: 0.20)",
        currencySymbol: "Currency symbol",
        currencyPosition: "Position (prefix/suffix)",
        save: "Save",
        saved: "Settings saved",
        updateFailed: "Update failed",
      },
    },
  },
  ar: {
    translation: {
      common: {
        dashboard: "لوحة التحكم",
        refresh: "تحديث",
        filter: "تصفية",
        exportCsv: "تصدير CSV",
        generatePdf: "إنشاء تقرير PDF",
        printPdf: "طباعة PDF",
        total: "الإجمالي",
        subtotal: "الإجمالي الفرعي",
        tax: "الضريبة",
        date: "التاريخ",
        quantity: "الكمية",
        unit: "الوحدة",
        payment: "المدفوعات",
        cash: "نقداً",
        card: "بطاقة",
        mixed: "مختلط",
        none: "لا يوجد",
        save: "حفظ",
        saveInProgress: "جاري الحفظ...",
        close: "إغلاق",
      },
      nav: {
        dashboard: "لوحة التحكم",
        pos: "نقطة البيع",
        inventory: "المخزون",
        analytics: "التحليلات",
        sales: "المبيعات",
        barista: "الباريستا",
        zreport: "تقرير الإغلاق",
        settings: "الإعدادات",
      },
      auth: {
        cafeName: "مقهى بريميوم",
        cafeTagline: "إدارة متكاملة للمقهى",
        title: "سجّل الدخول لإدارة المبيعات",
        subtitle: "ادخل إلى لوحة التحكم ونقطة البيع والمخزون بأمان.",
        secureTitle: "تسجيل دخول آمن",
        email: "البريد الإلكتروني",
        password: "كلمة المرور",
        login: "تسجيل الدخول",
        loggingIn: "جارٍ تسجيل الدخول...",
      },
      layout: {
        connected: "متصل",
        logout: "تسجيل الخروج",
        lightMode: "الوضع الفاتح",
        darkMode: "الوضع الداكن",
        management: "إدارة المقهى",
      },
      dashboard: {
        title: "لوحة التحكم",
        subtitle: "ملخص اليوم",
        todaySales: "مبيعات اليوم",
        orders: "الطلبات",
        lowStock: "تنبيهات المخزون",
        noAlerts: "لا توجد تنبيهات",
        revenueByDay: "الإيرادات اليومية",
        topProducts: "أفضل 5 مبيعات",
      },
      inventory: {
        title: "المخزون",
        subtitle: "إدارة المكونات",
        formAdd: "إضافة",
        formEdit: "تعديل",
        namePlaceholder: "اسم المكوّن",
        quantityPlaceholder: "الكمية",
        unitPlaceholder: "الوحدة",
        alertThreshold: "حد التنبيه",
        create: "إنشاء",
        update: "تحديث",
        listTitle: "المكونات",
        stockLow: "مخزون منخفض",
        ok: "حسنًا",
      },
      pos: {
        title: "القائمة اللمسية",
        subtitle: "نقطة البيع",
        categoryAll: "الكل",
        categoryFallback: "الفئة",
        cartTitle: "السلة",
        cartSubtitle: "الطلب الحالي",
        clear: "تفريغ",
        empty: "لا توجد عناصر",
        checkout: "تحصيل",
        processing: "جارٍ المعالجة...",
        orderSuccess: "تم تأكيد الطلب وتحديث المخزون",
        orderError: "خطأ في التحقق",
        chooseVariant: "اختر الحجم",
        variantNormal: "عادي",
        variantLarge: "كبير",
        addToCart: "أضف إلى السلة",
        notesLabel: "ملاحظة",
        notesPlaceholder: "مثال: بدون سكر",
      },
      sales: {
        title: "المبيعات",
        subtitle: "سجل المعاملات",
        orderLabel: "طلب",
      },
      analytics: {
        title: "التحليلات",
        subtitle: "تحليل المبيعات",
        dailyRevenue: "الإيراد اليومي",
        topSelling: "الأكثر مبيعاً",
        rushHours: "الإيراد حسب الساعة",
        revenueByPayment: "الإيراد حسب طريقة الدفع",
      },
      barista: {
        title: "الباريستا",
        subtitle: "طلبات للتحضير",
        empty: "لا توجد طلبات معلقة",
        markServed: "تم التقديم",
        orderLabel: "طلب",
        noteLabel: "ملاحظة",
        servedToast: "تم تقديم الطلب",
      },
      zreport: {
        title: "تقرير الإغلاق",
        subtitle: "إغلاق الصندوق",
        totalSales: "إجمالي المبيعات",
        coffeesSold: "القهوة المباعة",
        summary: "ملخص مالي",
        salesByItem: "المبيعات حسب الصنف",
        ingredientsUsed: "المكونات المستهلكة",
        product: "المنتج",
        totalHt: "الإجمالي قبل الضريبة",
        totalTtc: "الإجمالي مع الضريبة",
        ingredient: "المكوّن",
        quantityUsed: "الكمية المستخدمة",
      },
      settings: {
        title: "إعدادات المقهى",
        cafeName: "اسم المقهى",
        cafeAddress: "عنوان المقهى",
        taxRate: "الضريبة (مثال 0.20)",
        currencySymbol: "رمز العملة",
        currencyPosition: "الموضع (قبل/بعد)",
        save: "حفظ",
        saved: "تم حفظ الإعدادات",
        updateFailed: "فشل التحديث",
      },
    },
  },
  es: {
    translation: {
      common: {
        dashboard: "Panel",
        refresh: "Actualizar",
        filter: "Filtrar",
        exportCsv: "Exportar CSV",
        generatePdf: "Generar informe PDF",
        printPdf: "Imprimir PDF",
        total: "Total",
        subtotal: "Subtotal",
        tax: "IVA",
        date: "Fecha",
        quantity: "Cantidad",
        unit: "Unidad",
        payment: "Pagos",
        cash: "Efectivo",
        card: "Tarjeta",
        mixed: "Mixto",
        none: "Ninguno",
        save: "Guardar",
        saveInProgress: "Guardando...",
        close: "Cerrar",
      },
      nav: {
        dashboard: "Panel",
        pos: "POS",
        inventory: "Inventario",
        analytics: "Analíticas",
        sales: "Ventas",
        barista: "Barista",
        zreport: "Z-Report",
        settings: "Ajustes",
      },
      auth: {
        cafeName: "Café Premium",
        cafeTagline: "Gestión completa del coffee shop",
        title: "Inicia sesión para gestionar tus ventas",
        subtitle: "Accede al panel, POS e inventario de forma segura.",
        secureTitle: "Inicio de sesión seguro",
        email: "Correo",
        password: "Contraseña",
        login: "Iniciar sesión",
        loggingIn: "Iniciando...",
      },
      layout: {
        connected: "Conectado",
        logout: "Cerrar sesión",
        lightMode: "Modo claro",
        darkMode: "Modo oscuro",
        management: "Gestión del coffee shop",
      },
      dashboard: {
        title: "Panel",
        subtitle: "Resumen del día",
        todaySales: "Ventas de hoy",
        orders: "Pedidos",
        lowStock: "Alertas de stock",
        noAlerts: "Sin alertas",
        revenueByDay: "Ingresos por día",
        topProducts: "Top 5 ventas",
      },
      inventory: {
        title: "Inventario",
        subtitle: "Gestión de ingredientes",
        formAdd: "Agregar",
        formEdit: "Editar",
        namePlaceholder: "Nombre del ingrediente",
        quantityPlaceholder: "Cantidad",
        unitPlaceholder: "Unidad",
        alertThreshold: "Umbral de alerta",
        create: "Crear",
        update: "Actualizar",
        listTitle: "Ingredientes",
        stockLow: "Stock bajo",
        ok: "OK",
      },
      pos: {
        title: "Menú táctil",
        subtitle: "Punto de venta",
        categoryAll: "Todos",
        categoryFallback: "Categoría",
        cartTitle: "Carrito",
        cartSubtitle: "Pedido actual",
        clear: "Vaciar",
        empty: "No hay artículos",
        checkout: "Cobrar",
        processing: "Procesando...",
        orderSuccess: "Pedido confirmado y stock actualizado",
        orderError: "Error de validación",
        chooseVariant: "Elige tamaño",
        variantNormal: "Normal",
        variantLarge: "Grande",
        addToCart: "Añadir al carrito",
        notesLabel: "Nota",
        notesPlaceholder: "Ej: Sin azúcar",
      },
      sales: {
        title: "Ventas",
        subtitle: "Historial de transacciones",
        orderLabel: "Pedido",
      },
      analytics: {
        title: "Analíticas",
        subtitle: "Análisis de ventas",
        dailyRevenue: "Ingresos diarios",
        topSelling: "Más vendidos",
        rushHours: "Ingresos por hora",
        revenueByPayment: "Ingresos por método de pago",
      },
      barista: {
        title: "Barista",
        subtitle: "Pedidos por preparar",
        empty: "Sin pedidos pendientes",
        markServed: "Marcar servido",
        orderLabel: "Pedido",
        noteLabel: "Nota",
        servedToast: "Pedido servido",
      },
      zreport: {
        title: "Z-Report",
        subtitle: "Cierre de caja",
        totalSales: "Total ventas",
        coffeesSold: "Cafés vendidos",
        summary: "Resumen financiero",
        salesByItem: "Ventas por artículo",
        ingredientsUsed: "Ingredientes usados",
        product: "Producto",
        totalHt: "Total sin IVA",
        totalTtc: "Total con IVA",
        ingredient: "Ingrediente",
        quantityUsed: "Cantidad usada",
      },
      settings: {
        title: "Configuración del café",
        cafeName: "Nombre del café",
        cafeAddress: "Dirección del café",
        taxRate: "IVA (ej: 0.20)",
        currencySymbol: "Símbolo de moneda",
        currencyPosition: "Posición (prefijo/sufijo)",
        save: "Guardar",
        saved: "Ajustes guardados",
        updateFailed: "Error al actualizar",
      },
    },
  },
};

i18n.use(initReactI18next).init({
  resources,
  lng: localStorage.getItem("lang") || "fr",
  fallbackLng: "fr",
  interpolation: { escapeValue: false },
});

const updateDir = (lang) => {
  document.documentElement.setAttribute("dir", lang === "ar" ? "rtl" : "ltr");
};

updateDir(i18n.language);
i18n.on("languageChanged", updateDir);

export default i18n;
